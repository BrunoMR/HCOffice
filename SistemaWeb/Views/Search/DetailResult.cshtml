@using Utils
@model SistemaWeb.ViewModels.DetailSearchViewModel

@{
    @*ViewBag.Title = "DetailResult";*@
}

<div class="row">

        <div class="col-md-12">

            <div class="portlet" style="margin-bottom: 1%;" id="tres-tabelas">

                <div class="portlet-header" id="cabecalho-detalhes">
                    <h3>
                        Detalhe do Processo
                    </h3>

                </div> <!-- /.portlet-header -->

                <div class="portlet-content" style="padding-bottom: 0;">
                    <div class="" style="margin-bottom: 0 !important;">

                        @{
                            var @equals = Model.Processo.Apresentacao?.Equals("Nominativa");
                        }
                        @if (@equals != null && !(bool)@equals)
                        {
                            <div class="img-processo" id="detalhe-processo-img-col">
                                <img class="img" src=@Url.Content("~/Content/Imagens/" + Model.Processo.Numero + ".png")>
                            </div>
                        }

                        <div class="">

                            <div class="table-responsive-1">

                                <table class="table-responsive-1 grid-panelbody">
                                    <tbody>
                                        <tr>
                                            <td id="colunas-descricao">Nº Processo</td>
                                            <td>@Model.Processo.Numero</td>
                                        </tr>

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Marca))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Marca</td>
                                                <td>@Model.Processo.Marca</td>
                                            </tr>
                                        }

                                            <tr>
                                                <td id="colunas-descricao">Tradução da Marca</td>
                                                <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis pharetra mauris nulla, ac ornare nisi eleifend eget. Aenean congue ipsum elit, quis lobortis enim convallis non. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus eget leo nulla. Integer ac feugiat lorem, non varius diam. Ut turpis est, tristique quis ante eget, feugiat suscipit libero. Cras risus lacus, vestibulum at justo non, dignissim tincidunt mi. Donec consequat imperdiet lacus viverra placerat. Nullam aliquam imperdiet pharetra.</td>
                                            </tr>

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Titular))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Titular</td>
                                                <td>@Model.Processo.Titular</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.TitularPaisNome))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">País do Titular</td>
                                                <td>@Model.Processo.TitularPaisNome</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.TitularUfNome))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Estado do Titular</td>
                                                <td>@Model.Processo.TitularUfNome</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.CpfCnpjInpi))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">CPF/CNPF/Nº INPI</td>
                                                <td>@Model.Processo.CpfCnpjInpi</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Prioridade))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Propriedade Unionista</td>
                                                <td>@Model.Processo.Prioridade - @Model.Processo.PrioridadeData - @Model.Processo.PrioridadePais</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Apresentacao))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Apresentação</td>
                                                <td>@Model.Processo.Apresentacao</td>
                                            </tr>
                                        }


                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Natureza))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Natureza</td>
                                                <td>@Model.Processo.Natureza</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.DataDeposito))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Data Depósito</td>
                                                <td>@DateTime.Parse(Model.Processo.DataDeposito).Date.ToString("dd/MM/yyyy")</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.DataConcessao))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Data Concessão</td>
                                                <td>@DateTime.Parse(Model.Processo.DataConcessao).Date.ToString("dd/MM/yyyy")</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.DataRegistro))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Data Registro</td>
                                                <td>@DateTime.Parse(Model.Processo.DataRegistro).Date.ToString("dd/MM/yyyy")</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.DataOrdinarioInicial))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Prorrogação Prazo Ordinário</td>
                                                <td>
                                                    @DateTime.Parse(Model.Processo.DataOrdinarioInicial).Date.ToString("dd/MM/yyyy") a
                                                    @DateTime.Parse(Model.Processo.DataOrdinarioFinal).Date.ToString("dd/MM/yyyy")
                                                </td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.DataExtraOrdinarioInicial))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Prorrogação Prazo Extraordinário</td>
                                                <td>
                                                    @DateTime.Parse(Model.Processo.DataExtraOrdinarioInicial).Date.ToString("dd/MM/yyyy") a
                                                    @DateTime.Parse(Model.Processo.DataExtraOrdinarioFinal).Date.ToString("dd/MM/yyyy")
                                                </td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Cfe4))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">CEF(4)</td>
                                                <td class="control-label ui-popover text-left" data-toggle="tooltip" data-placement="top" data-trigger="hover" data-content="@Model.Processo.Cfe4Description" title="">@Model.Processo.Cfe4</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Classe))
                                        {
                                            <tr>
                                                <td id="colunas-descricao">Classe</td>
                                                <td>@Model.Processo.Classe</td>
                                            </tr>
                                        }

                                            <tr>
                                                <td id="colunas-descricao">Especificação</td>
                                                <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis pharetra mauris nulla, ac ornare nisi eleifend eget. Aenean congue ipsum elit, quis lobortis enim convallis non. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus eget leo nulla. Integer ac feugiat lorem, non varius diam. Ut turpis est, tristique quis ante eget, feugiat suscipit libero. Cras risus lacus, vestibulum at justo non, dignissim tincidunt mi. Donec consequat imperdiet lacus viverra placerat. Nullam aliquam imperdiet pharetra.</td>
                                            </tr>

                                        @*<div class="row">
                                                <div class="col-md-12">
                                                    <div class="table-responsive-2">
                                                        <table class="table-responsive-2" style="width: 100%;">
                                                            <tbody>
                                                                <tr>
                                                                    <td id="long-especificacao" style="width: 27.8%; padding-right: 2.3%; vertical-align:top; padding-left:0;text-align:right;">Especificação</td>
                                                                    <td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent sit amet purus dignissim, sodales metus ut, viverra diam. Morbi eu lacus eleifend, accumsan quam eget, bibendum libero. Duis enim nisl, luctus nec tortor et, varius pellentesque urna. Maecenas consequat eget odio in pulvinar. Morbi lobortis justo ac cursus ultricies. Ut interdum vitae mi vel volutpat. Ut lacinia, purus a elementum tempor, ligula enim semper mauris, in volutpat tellus quam nec felis. Quisque sagittis lacinia libero, in iaculis lacus tempor vel. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae</td>
                                                                </tr>
                                                                <tr>
                                                                    <td id="apostila" style="text-align: right; padding-right: 2.3%;">Apostila</td>
                                                                    <td>Sem direito ao uso exclusivo da palavra "man".</td>
                                                                </tr>
                                                                <tr>
                                                                    <td id="procurador" style="text-align: right; padding-right: 2.3%; padding-bottom: 1%;">Procurador</td>
                                                                    <td style="padding-bottom: 1%;">Montaury Pimenta, Machado & Lioce S/C LTDA</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>*@

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Especificacao))
                                        {
                                            <tr>
                                                <td id="long-especificacao" style="width: 27.8%; padding-right: 2.3%; vertical-align: top; padding-left: 0; text-align: right;">Especificação</td>
                                                <td>@Model.Processo.Especificacao</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Apostila))
                                        {
                                            <tr>
                                                <td id="apostila" style="text-align: right; padding-right: 2.3%;">Apostila</td>
                                                <td>@Model.Processo.Apostila</td>
                                            </tr>
                                        }

                                        @if (!string.IsNullOrWhiteSpace(@Model.Processo.Procurador))
                                        {
                                            <tr>
                                                <td id="procurador" style="text-align: right; padding-right: 2.3%; padding-bottom: 1%;">Procurador</td>
                                                <td style="padding-bottom: 1%;">@Model.Processo.Procurador</td>
                                            </tr>
                                        }

                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>

                </div> <!-- /.portlet-content -->

            </div> <!-- /.portlet -->


            <div class="portlet" style="margin-bottom: 1%;">
                <div class="portlet-header">
                    <h3>Publicações</h3>
                </div>
                <div class="portlet-content">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead style="font-size: 11px;">
                                <tr>
                                    <th id="publicacao-col-estreita" style="width: 5%; text-align: center;">RPI</th>
                                    <th style="width: 7%; text-align: center;">Data RPI</th>
                                    <th style="width: 9%; text-align: center;">Cód. Desp.</th>
                                    <th id="publicacao-col-estreita" style="width: 30%">Despacho</th>
                                    <th id="publicacao-col-estreita" style="width: 49%">Complemento do Despacho</th>
                                    <th id="publicacao-col-estreita">Imgagem</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var despacho in Model.Processo.Despacho.OrderByDescending(d => d.Rpi))
                                {
                                    <tr>
                                        <td style="text-align: center;">@despacho.Rpi</td>
                                        <td id="publicacao-col-estreita" text-align:center;>@despacho.Data.Value.Date.ToString("dd/MM/yyyy")</td>
                                        <td class="ui-popover text-center" data-toggle="tooltip" data-placement="top" data-trigger="hover" data-content="@despacho.DescricaoCompleta" title="" style="text-align: center;">@despacho.Codigo</td>
                                        <td id="publicacao-col-estreita">@despacho.Descricao</td>
                                        <td id="publicacao-col-estreita">
                                            @despacho.Complemento
                                        </td>
                                        <td class="text-center">
                                            <a href="#">
                                                <svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="file-pdf" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-file-pdf fa-w-12 fa-fw fa-lg"><path fill="currentColor" d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z" class=""></path></svg>
                                            </a>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="portlet" style="margin-bottom: 1%;">
                <div class="portlet-header">
                    <h3>Petições</h3>
                </div>
                <div class="portlet-content">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead style="font-size: 11px;">
                                <tr>
                                    <th>Descrição da Petição</th>
                                    <th class="text-center">Cód. Serv.</th>
                                    <th>Requerente</th>
                                    <th class="text-center">Protocolo</th>
                                    <th class="text-center">Data</th>
                                    <th class="text-center">Imagem</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Prorrogação de registro da marca e expedição de certificado de registro (pago no prazo ordinário)</td>
                                    <td class="text-center">374</td>
                                    <td>CEMA CONSULTORIA EM MEIO AMBIENTE S/C LTDA</td>
                                    <td class="text-center">800110012479</td>
                                    <td class="text-center">
                                        26/01/2011
                                    </td>
                                    <td class="text-center">
                                        <a href="#">
                                            <svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="file-pdf" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-file-pdf fa-w-12 fa-fw fa-lg"><path fill="currentColor" d="M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z" class=""></path></svg>
                                        </a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            @if (Model.CitacaoList != null && Model.CitacaoList.Any())
            {
            <div class="portlet" style="padding-bottom: 0;">
                <div class="portlet-header">
                    <h3>Citação no Complemento do Despacho de outros Processos</h3>
                </div>

                <div class="portlet-content">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead style="font-size: 11px;">
                                <tr>
                                    <th>Imagem da Marca</th>
                                    <th>Marca</th>
                                    <th class="text-center">Classe</th>
                                    <th class="text-center">Data Depósito</th>
                                    <th class="text-center">Processo</th>
                                    <th>Titular</th>
                                    <th class="text-center">Cód. Desp.</th>
                                    <th>Complemento do Despacho</th>
                                    <th>RPI-Data RPI</th>
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var citacao in Model.CitacaoList.OrderByDescending(c => c.Numero))
                                {
                                    foreach (var despacho in citacao.Despacho.OrderByDescending(d => d.Rpi))
                                    {
                                        <tr>
                                            <td>
                                                @{
                                                    var @presentation = citacao.Apresentacao?.Equals("Nominativa");
                                                }
                                                @if (@presentation != null && !(bool)@presentation)
                                                {
                                                    <img src=@Url.Content("~/Content/Imagens/" + citacao.Numero + ".png") style="width: 75px;">
                                                }
                                            </td>
                                            <td>@citacao.Marca</td>
                                            <td class="text-center">@citacao.Classe</td>
                                            <td class="text-center">@DateTime.Parse(citacao.DataDeposito).Date.ToString("dd/MM/yyyy")</td>
                                            <td class="text-center"><a href="@Url.Action("DetailProcess", "Search", new {code = citacao.Numero})" target="_blank">@citacao.Numero</a></td>
                                            <td>@citacao.Titular</td>
                                            <td class="ui-popover text-center" data-toggle="tooltip" data-placement="top" data-trigger="hover" data-content="@despacho.DescricaoCompleta" title="">@despacho.Codigo</td>
                                            <td>@despacho.Complemento</td>
                                            <td>@despacho.Rpi / @despacho.Data.Value.Date.ToString("dd/MM/yyyy")</td>
                                        </tr>
                                                        }
                                                    }

                            </tbody>
                        </table>
                    </div>
                </div> <!-- /.portlet-content -->
            </div> <!-- /.portlet -->
            }

        </div> <!-- /col-md -->

</div>
